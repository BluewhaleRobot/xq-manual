# 小强ROS机器人教程(2)___蓝鲸智能开源软件仓库的使用和ROS开机启动任务的配置<br>
[小强主页](https://www.bwbot.org/products/xiaoqiang-4-pro)

小强的所有软件源码都共享在蓝鲸智能的开源仓库里，任何人任何组织都可以自由下载使用或进行二次开发,[Github仓库](https://github.com/BlueWhaleRobot) [Gitee仓库](https://gitee.com/BluewhaleRobot/)

对于小强用户，开源仓库中的软件可以直接git clone到小强的ROS工作目录里，然后就可以直接用ROS的工具链`catkin_make`编译使用。小强的ROS工作目录为:`/home/xiaoqiang/Documents/ros/src`

下文将以开源仓库中的startup软件包为例，演示开源仓库的完整使用过程。

### 一、startup软件包功能介绍

小强主机开机后，会自动启动名字为startup的linux服务脚本，startup服务脚本运行时会去启动 startup 软件包中的startup.launch文件 在Ubuntu系统中注册的复制品。因此我们通过修改startup软件包中的startup.launch文件，然后将这个文件在ubuntu系统中注册为startup服务，就能控制小强主机的开机启动任务了。

### 二、修改软件包中launch文件夹内的startup.launch文件

利用上篇教程安装的vscode编辑器，在本地遥控端直接编辑这个文件（需要远程访问小强的主机文件目录，请参考上篇基础操作教程进行配置)

在上图箭头区域，添加或删除你需要启动的ROS launch文件及ROS node，这些项目在下文将被添加进小强主机的开机启动项里，小强下次开机会自动运行这些项目。最后保存退出

### 三、将startup.launch文件在小强主机中注册为startup 开机启动服务

接着二中的机器人命令行窗口输入

a.首先将之前注册的startup服务停止和删除

```bash
sudo service startup stop
rosrun robot_upstart uninstall startup
```

b.重新注册startup 开机启动服务

```bash
rosrun robot_upstart install startup/launch/startup.launch
sudo systemctl daemon-reload && sudo systemctl start startup
```

### 四、远程重启小强主机，查看开机启动项是否正常加载

接着上文的ssh窗口输入

下发重启命令

```bash
sudo reboot
```

查看startup服务状态

```bash
sudo service startup status
```

正常的话会显示startup start/running 如下图所示
![0_1537506906365_9d541bb9-c763-43ae-afb1-d0c2c31f369c-image.png](http://community.bwbot.org/assets/uploads/files/1537506907540-9d541bb9-c763-43ae-afb1-d0c2c31f369c-image.png) 
d.还可以进一步查看相关的topic 是否已经发布出来

```bash
rostopic list
```

[小强主页](https://www.bwbot.org/products/xiaoqiang-4-pro)
[返回目录](https://community.bwbot.org/topic/110)
